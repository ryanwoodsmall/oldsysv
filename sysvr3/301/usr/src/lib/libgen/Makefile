#	Copyright (c) 1984 AT&T
#	  All Rights Reserved

#	THIS IS UNPUBLISHED PROPRIETARY SOURCE CODE OF AT&T
#	The copyright notice above does not evidence any
#	actual or intended publication of such source code.

#ident	"@(#)libgen:Makefile	1.8"
#	Makefile for libgen library.

ROOT =
DIR = $(ROOT)/usr/lib
INC = $(ROOT)/usr/include
CFLAGS = -O -I$(INC)

INCFILE = strselect.h libc.h

SIZE = size

ALL:	$(INCFILE) $(LIBRARY)

#top#
# Generated by makefile 1.46

MAKEFILE = Makefile


LIBRARY = libgen.a

OBJECTS =  basename.o bufsplit.o day.o dirname.o hash.o julian.o leap.o \
	num.o numd.o p2open.o pathfind.o regerror.o sesystem.o smemcpy.o \
	strccpy.o strecpy.o strnlen.o sweekday.o tconv.o tconvs.o to_date.o \
	tree.o triml.o trimt.o waitpid.o weekday.o

SOURCES =  basename.c bufsplit.c day.c dirname.c hash.c julian.c leap.c \
	num.c numd.c p2open.c pathfind.c regerror.c sesystem.c smemcpy.c \
	strccpy.c strecpy.c strnlen.c sweekday.c tconv.c tconvs.c to_date.c \
	tree.c triml.c trimt.c waitpid.c weekday.c

ALL:		$(LIBRARY)

$(LIBRARY):	$(LIBRARY)(weekday.o) $(LIBRARY)(waitpid.o) \
		$(LIBRARY)(trimt.o) $(LIBRARY)(triml.o)	$(LIBRARY)(tree.o) \
		$(LIBRARY)(to_date.o) $(LIBRARY)(tconvs.o) \
		$(LIBRARY)(tconv.o) $(LIBRARY)(sweekday.o) \
		$(LIBRARY)(strnlen.o) $(LIBRARY)(strecpy.o) \
		$(LIBRARY)(strccpy.o) $(LIBRARY)(smemcpy.o) \
		$(LIBRARY)(sesystem.o) $(LIBRARY)(regerror.o) \
		$(LIBRARY)(pathfind.o) $(LIBRARY)(p2open.o) \
		$(LIBRARY)(numd.o) $(LIBRARY)(num.o) $(LIBRARY)(leap.o)	\
		$(LIBRARY)(julian.o) $(LIBRARY)(hash.o)	\
		$(LIBRARY)(dirname.o) $(LIBRARY)(day.o)	\
		$(LIBRARY)(bufsplit.o) $(LIBRARY)(basename.o) 


$(LIBRARY)(basename.o):	 $(INC)/string.h libgen.h	

$(LIBRARY)(bufsplit.o):	 libgen.h 

$(LIBRARY)(day.o): $(INC)/stdio.h	libgen.h 

$(LIBRARY)(dirname.o):	 $(INC)/string.h libgen.h	

$(LIBRARY)(hash.o): $(INC)/assert.h $(INC)/stdio.h \
		 hash.h	

$(LIBRARY)(julian.o):	 $(INC)/stdio.h libgen.h 

$(LIBRARY)(leap.o): libgen.h 

$(LIBRARY)(num.o): $(INC)/ctype.h	libgen.h 

$(LIBRARY)(numd.o): $(INC)/ctype.h libgen.h 

$(LIBRARY)(p2open.o):	 $(INC)/stdio.h $(INC)/signal.h \
		 $(INC)/sys/signal.h $(INC)/fcntl.h	libgen.h 

$(LIBRARY)(pathfind.o):	 $(INC)/sys/types.h \
		 $(INC)/sys/stat.h libgen.h 

$(LIBRARY)(regerror.o):	 libgen.h 

$(LIBRARY)(sesystem.o):	 $(INC)/signal.h \
		 $(INC)/sys/signal.h libgen.h 

$(LIBRARY)(smemcpy.o):	 $(INC)/memory.h libgen.h	

$(LIBRARY)(strccpy.o):	 libgen.h 

$(LIBRARY)(strecpy.o):	 $(INC)/ctype.h $(INC)/string.h \
		 libgen.h 

$(LIBRARY)(strnlen.o):	 libgen.h 

$(LIBRARY)(sweekday.o):	 libgen.h 

$(LIBRARY)(tconv.o):	 libgen.h $(INC)/time.h 

$(LIBRARY)(tconvs.o):	 libgen.h $(INC)/time.h 

$(LIBRARY)(to_date.o):	 libgen.h 

$(LIBRARY)(tree.o): $(INC)/stdio.h hash.h	

$(LIBRARY)(triml.o):	 $(INC)/string.h libgen.h	

$(LIBRARY)(trimt.o):	 $(INC)/string.h libgen.h	

$(LIBRARY)(waitpid.o):	 $(INC)/errno.h \
		 $(INC)/sys/errno.h libgen.h 

$(LIBRARY)(weekday.o):	 libgen.h 

GLOBALINCS = $(INC)/assert.h $(INC)/ctype.h $(INC)/errno.h \
	$(INC)/fcntl.h $(INC)/memory.h $(INC)/signal.h \
	$(INC)/stdio.h $(INC)/string.h $(INC)/sys/errno.h \
	$(INC)/sys/signal.h $(INC)/sys/stat.h \
	$(INC)/sys/types.h $(INC)/time.h 

LOCALINCS = hash.h libgen.h 

clean:
	rm -f $(OBJECTS)

clobber:
	rm -f $(OBJECTS) $(LIBRARY)

newmakefile:
	makefile -m -f $(MAKEFILE) -L $(LIBRARY)  -s INC $(INC)
#bottom#

libc.h:		mklib-dot-h $(ROOT)/usr/lib/llib-lc
	sh mklib-dot-h $(ROOT)/usr/lib/llib-lc libc.h \
		<$(ROOT)/usr/lib/llib-lc >libc.h

install:	ALL remove
	cpset $(LIBRARY) $(DIR) 0444 bin bin
	for f in $(INCFILE) $(LOCALINCS); \
		do \
			cpset $$f $(INC) 0444 bin bin; \
		done

partslist:
	@echo $(MAKEFILE) $(SOURCES) $(LOCALINCS) $(INCFILE) mklib-dot-h  | \
		tr ' ' '\012'  |  sort

product:
	@echo $(DIR)/$(LIBRARY)
	@for f in $(INCFILE) $(LOCALINCS); \
		do \
			echo $(INC)/$$f; \
		done

remove:
	rm -f $(DIR)/$(LIBRARY)
	cd $(INC);  \
		for f in $(INCFILE) $(LOCALINCS); \
		do \
			rm -f $$f; \
		done

strip:

size:
	$(SIZE) $(LIBRARY)

srcaudit:
	@fileaudit $(MAKEFILE) $(LOCALINCS) $(SOURCES) $(INCFILE) mklib-dot-h \
		-o $(OBJECTS) $(LIBRARY)
